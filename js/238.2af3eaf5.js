(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[238],{8192:function(){const e={CHILD:{code:"1",desc:"儿童"},ADULT:{code:"2",desc:"成人"},STUDENT:{code:"3",desc:"学生"}},a=[{code:"1",desc:"儿童"},{code:"2",desc:"成人"},{code:"3",desc:"学生"}],n={FIRST:{code:"1",desc:"一等座",price:.3},SECOND:{code:"2",desc:"二等座",price:.4},SOLID:{code:"3",desc:"硬卧",price:.5},SOFT:{code:"4",desc:"软卧",price:.6}},l=[{code:"1",desc:"一等座",price:.3},{code:"2",desc:"二等座",price:.4},{code:"3",desc:"硬卧",price:.5},{code:"4",desc:"软卧",price:.6}];console.log(e),console.log(l),console.log(n),console.log(a)},6238:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return b}});var l=n(6768),t=n(144),i=n(8073),o=n(7694),c=n(5108),s=n(1632),d=n(3784),r=(n(8192),n(2954));const u={style:{"text-align":"left"}},m=(0,l.Lk)("a",{style:{color:"red"},href:"#"},"删除",-1);var p={__name:"StationView",setup(e){const a=(0,t.KR)(!1),n=(0,t.KR)({total:0,pageSize:4,current:1}),p=e=>{k.value=JSON.parse(JSON.stringify(e)),f.value=!0},g=(0,t.KR)([]),b=(0,t.KR)([{title:"车站名称",dataIndex:"name",resizable:!0},{title:"车站拼音",dataIndex:"namePinyin",resizable:!0},{title:"车站拼音首字母",dataIndex:"namePy",resizable:!0},{title:"操作",dataIndex:"operation"}]),v=(0,t.Kh)({name:[{required:!0,message:"请输入车站名",trigger:"blur"}],namePinyin:[{required:!0,message:"请输入车站拼音",trigger:"blur"}],namePy:[{required:!0,message:"请输入车站拼音首字母",trigger:"blur"}]}),y=e=>{console.log(e),z({pageNum:e.current,pageSize:e.pageSize})},f=(0,t.KR)(!1),k=(0,t.Kh)({name:"",namePinyin:"",namePy:""});(0,l.wB)((()=>k.name),(()=>{k.name&&(k.namePinyin=(0,r.iA)(k.name,{toneType:"none"}).replaceAll(" ",""),k.namePy=(0,r.iA)(k.name,{pattern:"first",toneType:"none"}).replaceAll(" ",""))})),(0,l.sV)((()=>{z({pageNum:n.value.current,pageSize:n.value.pageSize})}));const z=e=>{e||(e={pageNum:1,pageSize:4}),a.value=!0,i.A.get("/admin/station/query-list",{params:{pageNum:e.pageNum,pageSize:e.pageSize}}).then((e=>{a.value=!1,e&&(g.value=e.data?.list,n.value.current=e.data?.pageNum,n.value.total=e.data?.total)}))},F=(e,a)=>{a.width=e},S=e=>{i.A.delete("/admin/station/del"+e).then((e=>{e.success?(o.Ay.success("删除成功"),z()):c.A.error({description:e.message})}))},h=()=>{i.A.post("/admin/station/save",k).then((e=>{"200"===e.code?(o.Ay.success({content:"操作成功"}),f.value=!1,z({pageNum:n.value.current,pageSize:n.value.pageSize})):c.A.error({message:e.msg})}))};return(e,i)=>{const o=(0,l.g2)("a-button"),c=(0,l.g2)("a-space"),r=(0,l.g2)("a-popconfirm"),A=(0,l.g2)("a-table"),C=(0,l.g2)("a-input"),P=(0,l.g2)("a-form-item"),_=(0,l.g2)("a-form"),x=(0,l.g2)("a-modal");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",u,[(0,l.bF)(c,{direction:"horizontal",size:10,align:"start",style:{"text-align":"left"}},{default:(0,l.k6)((()=>[(0,l.bF)(o,{type:"primary",danger:"",onClick:p},{default:(0,l.k6)((()=>[(0,l.eW)("新增")])),_:1}),(0,l.bF)(o,{type:"primary",onClick:z},{default:(0,l.k6)((()=>[(0,l.eW)("刷新")])),_:1})])),_:1})]),(0,l.bF)(A,{"data-source":g.value,columns:b.value,loading:a.value,pagination:n.value,onChange:y,onResizeColumn:F},{bodyCell:(0,l.k6)((({column:e,record:a})=>["operation"===e.dataIndex?((0,l.uX)(),(0,l.Wv)(c,{key:0,size:15},{default:(0,l.k6)((()=>[(0,l.bF)(r,{title:"确定要删除吗",onConfirm:e=>S(a.id),"ok-text":"确认","cancel-text":"取消"},{icon:(0,l.k6)((()=>[(0,l.bF)((0,t.R1)(s.A),{style:{color:"red"}})])),default:(0,l.k6)((()=>[m])),_:2},1032,["onConfirm"]),(0,l.bF)(o,{size:"small",onClick:e=>p(a),type:"primary"},{icon:(0,l.k6)((()=>[(0,l.bF)((0,t.R1)(d.A))])),_:2},1032,["onClick"])])),_:2},1024)):(0,l.Q3)("",!0)])),_:1},8,["data-source","columns","loading","pagination"]),(0,l.bF)(x,{visible:f.value,"onUpdate:visible":i[3]||(i[3]=e=>f.value=e),title:"车站信息",onOk:h,"ok-text":"确认","cancel-text":"取消",keyboard:""},{default:(0,l.k6)((()=>[(0,l.bF)(_,{model:k,"label-align":"right",rules:v,"label-col":{span:6},"wrapper-col":{span:18,offset:0}},{default:(0,l.k6)((()=>[(0,l.bF)(P,{"has-feedback":"",label:"车站名",name:"name"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{value:k.name,"onUpdate:value":i[0]||(i[0]=e=>k.name=e)},null,8,["value"])])),_:1}),(0,l.bF)(P,{"has-feedback":"",label:"车站拼音",name:"namePinyin"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{value:k.namePinyin,"onUpdate:value":i[1]||(i[1]=e=>k.namePinyin=e),disabled:""},null,8,["value"])])),_:1}),(0,l.bF)(P,{"has-feedback":"",label:"拼音首字母",name:"namePy"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{value:k.namePy,"onUpdate:value":i[2]||(i[2]=e=>k.namePy=e),disabled:""},null,8,["value"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["visible"])])}}};const g=p;var b=g}}]);
//# sourceMappingURL=238.2af3eaf5.js.map